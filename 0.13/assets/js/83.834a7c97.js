(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{681:function(e,s,t){"use strict";t.r(s);var a=t(0),n=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"cw4-group"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cw4-group"}},[e._v("#")]),e._v(" CW4 Group")]),e._v(" "),t("p",[e._v("cw4-group source code: "),t("a",{attrs:{href:"https://github.com/CosmWasm/cosmwasm-plus/tree/master/contracts/cw4-group",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/CosmWasm/cosmwasm-plus/tree/master/contracts/cw4-group"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("This is a basic implementation of the "),t("RouterLink",{attrs:{to:"/cw-plus/cw4/01-spec.html"}},[e._v("cw4 spec")]),e._v(".\nIt fulfills all elements of the spec, including the raw query lookups,\nand it designed to be used as a backing storage for\n"),t("RouterLink",{attrs:{to:"/cw-plus/cw3/01-spec.html"}},[e._v("cw3 compliant contracts")]),e._v(".")],1),e._v(" "),t("p",[e._v("It stores a set of members along with an admin, and allows the admin to\nupdate the state. Raw queries (intended for cross-contract queries)\ncan check a given member address and the total weight. Smart queries (designed\nfor client API) can do the same, and also query the admin address as well as\npaginate over all members.")]),e._v(" "),t("h2",{attrs:{id:"init"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#init"}},[e._v("#")]),e._v(" Init")]),e._v(" "),t("p",[e._v("To create it, you must pass in a list of members, as well as an optional\n"),t("code",[e._v("admin")]),e._v(", if you wish it to be mutable.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"rust",base64:"cHViIHN0cnVjdCBJbml0TXNnIHsKICAgIHB1YiBhZG1pbjogT3B0aW9uJmx0O0h1bWFuQWRkciZndDssCiAgICBwdWIgbWVtYmVyczogVmVjJmx0O01lbWJlciZndDssCn0KCnB1YiBzdHJ1Y3QgTWVtYmVyIHsKICAgIHB1YiBhZGRyOiBIdW1hbkFkZHIsCiAgICBwdWIgd2VpZ2h0OiB1NjQsCn0K"}}),e._v(" "),t("p",[e._v("Members are defined by an address and a weight. This is transformed\nand stored under their "),t("code",[e._v("CanonicalAddr")]),e._v(", in a format defined in\n"),t("RouterLink",{attrs:{to:"/cw-plus/cw4/01-spec.html#raw"}},[e._v("cw4 raw queries")]),e._v(".")],1),e._v(" "),t("p",[e._v("Note that 0 "),t("em",[e._v("is an allowed weight")]),e._v(". This doesn't give any voting rights, but\nit does define this address is part of the group. This could be used in\ne.g. a KYC whitelist to say they are allowed, but cannot participate in\ndecision-making.")]),e._v(" "),t("h2",{attrs:{id:"messages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#messages"}},[e._v("#")]),e._v(" Messages")]),e._v(" "),t("p",[e._v("Basic update messages, queries, and hooks are defined by the\n"),t("RouterLink",{attrs:{to:"/cw-plus/cw4/01-spec.html"}},[e._v("cw4 spec")]),e._v(". Please refer to it for more info.")],1),e._v(" "),t("p",[t("code",[e._v("cw4-group")]),e._v(" adds one message to control the group membership:")]),e._v(" "),t("p",[t("code",[e._v("UpdateMembers{add, remove}")]),e._v(" - takes a membership diff and adds/updates the\nmembers, as well as removing any provided addresses. If an address is on both\nlists, it will be removed. If it appears multiple times in "),t("code",[e._v("add")]),e._v(", only the\nlast occurrence will be used.")])],1)}),[],!1,null,null,null);s.default=n.exports}}]);