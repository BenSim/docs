(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{675:function(g,c,C){"use strict";C.r(c);var I=C(0),d=Object(I.a)({},(function(){var g=this,c=g.$createElement,C=g._self._c||c;return C("ContentSlotsDistributor",{attrs:{"slot-key":g.$parent.slotKey}},[C("h1",{attrs:{id:"develop-dapp"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#develop-dapp"}},[g._v("#")]),g._v(" Develop dApp")]),g._v(" "),C("p",[g._v("To showcase the previously explained utilities, we'll create the balance checker dApp from the template.")]),g._v(" "),C("h2",{attrs:{id:"customize-template"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#customize-template"}},[g._v("#")]),g._v(" Customize template")]),g._v(" "),C("p",[g._v("To make the app your own, feel free to modify the "),C("code",[g._v("name")]),g._v(" field in "),C("code",[g._v("package.json")]),g._v(" and/or update the "),C("code",[g._v("README.md")]),g._v(" file.")]),g._v(" "),C("p",[g._v("Also modify the "),C("code",[g._v("routes/Login/index.tsx")]),g._v(" file to look like this:")]),g._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"jsx",base64:"aW1wb3J0IHsgTG9naW4gYXMgTG9naW5EZXNpZ24gfSBmcm9tICZxdW90O0Bjb3NtaWNkYXBwL2Rlc2lnbiZxdW90OzsKaW1wb3J0IFJlYWN0IGZyb20gJnF1b3Q7cmVhY3QmcXVvdDs7CmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJnF1b3Q7Li4vLi4vLi4vY29uZmlnJnF1b3Q7OwppbXBvcnQgeyBwYXRoQmFsYW5jZSB9IGZyb20gJnF1b3Q7Li4vLi4vcGF0aHMmcXVvdDs7CmltcG9ydCBjb3NtV2FzbUxvZ28gZnJvbSAmcXVvdDsuL2Fzc2V0cy9jb3NtV2FzbUxvZ28uc3ZnJnF1b3Q7OwoKZXhwb3J0IGZ1bmN0aW9uIExvZ2luKCk6IEpTWC5FbGVtZW50IHsKICByZXR1cm4gKAogICAgJmx0O0xvZ2luRGVzaWduCiAgICAgIHBhdGhBZnRlckxvZ2luPXtwYXRoQmFsYW5jZX0KICAgICAgYXBwTmFtZT0mcXVvdDtCYWxhbmNlIGNoZWNrZXImcXVvdDsKICAgICAgYXBwTG9nbz17Y29zbVdhc21Mb2dvfQogICAgICBjb25maWc9e2NvbmZpZ30KICAgIC8mZ3Q7CiAgKTsKfQoK"}}),g._v(" "),C("h2",{attrs:{id:"add-balance-route"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#add-balance-route"}},[g._v("#")]),g._v(" Add balance route")]),g._v(" "),C("h3",{attrs:{id:"balance-path"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#balance-path"}},[g._v("#")]),g._v(" Balance path")]),g._v(" "),C("p",[g._v("Add the following to the "),C("code",[g._v("paths.ts")]),g._v(" file:")]),g._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"typescript",base64:"ZXhwb3J0IGNvbnN0IHBhdGhCYWxhbmNlID0gJnF1b3Q7L2JhbGFuY2UmcXVvdDs7Cg=="}}),g._v(" "),C("h3",{attrs:{id:"react-component"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#react-component"}},[g._v("#")]),g._v(" React component")]),g._v(" "),C("p",[g._v("Inside "),C("code",[g._v("routes/")]),g._v(", add a "),C("code",[g._v("Balance")]),g._v(" directory with the following files:")]),g._v(" "),C("ul",[C("li",[C("code",[g._v("index.tsx")])])]),g._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"jsx",base64:"aW1wb3J0IHsgUGFnZUxheW91dCwgWW91ckFjY291bnQgfSBmcm9tICZxdW90O0Bjb3NtaWNkYXBwL2Rlc2lnbiZxdW90OzsKaW1wb3J0IHsgdXNlRXJyb3IgfSBmcm9tICZxdW90O0Bjb3NtaWNkYXBwL2xvZ2ljJnF1b3Q7OwppbXBvcnQgeyBUeXBvZ3JhcGh5IH0gZnJvbSAmcXVvdDthbnRkJnF1b3Q7OwppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICZxdW90O3JlYWN0JnF1b3Q7OwppbXBvcnQgeyBGb3JtQ2hlY2tCYWxhbmNlIH0gZnJvbSAmcXVvdDsuL2NvbXBvbmVudHMvRm9ybUNoZWNrQmFsYW5jZSZxdW90OzsKaW1wb3J0IHsgVG9rZW5MaXN0IH0gZnJvbSAmcXVvdDsuL2NvbXBvbmVudHMvVG9rZW5MaXN0JnF1b3Q7OwppbXBvcnQgeyBFcnJvclRleHQsIE1haW5TdGFjayB9IGZyb20gJnF1b3Q7Li9zdHlsZSZxdW90OzsKCmNvbnN0IHsgVGl0bGUgfSA9IFR5cG9ncmFwaHk7CgpleHBvcnQgZnVuY3Rpb24gQmFsYW5jZSgpOiBKU1guRWxlbWVudCB7CiAgY29uc3QgeyBlcnJvciB9ID0gdXNlRXJyb3IoKTsKICBjb25zdCBbY29udHJhY3RBZGRyZXNzLCBzZXRDb250cmFjdEFkZHJlc3NdID0gdXNlU3RhdGUoKTsKCiAgcmV0dXJuICgKICAgICZsdDtQYWdlTGF5b3V0Jmd0OwogICAgICAmbHQ7TWFpblN0YWNrJmd0OwogICAgICAgICZsdDtUaXRsZSZndDtCYWxhbmNlJmx0Oy9UaXRsZSZndDsKICAgICAgICAmbHQ7WW91ckFjY291bnQgaGlkZVRpdGxlIGhpZGVCYWxhbmNlIC8mZ3Q7CiAgICAgICAgJmx0O0Zvcm1DaGVja0JhbGFuY2Ugc2V0Q29udHJhY3RBZGRyZXNzPXtzZXRDb250cmFjdEFkZHJlc3N9IC8mZ3Q7CiAgICAgICAge2Vycm9yICZhbXA7JmFtcDsgJmx0O0Vycm9yVGV4dCZndDt7ZXJyb3J9Jmx0Oy9FcnJvclRleHQmZ3Q7fQogICAgICAgICZsdDtUb2tlbkxpc3QgY29udHJhY3RBZGRyZXNzPXtjb250cmFjdEFkZHJlc3N9IC8mZ3Q7CiAgICAgICZsdDsvTWFpblN0YWNrJmd0OwogICAgJmx0Oy9QYWdlTGF5b3V0Jmd0OwogICk7Cn0K"}}),g._v(" "),C("ul",[C("li",[C("code",[g._v("style.ts")])])]),g._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"typescript",base64:"aW1wb3J0IHsgU3RhY2sgfSBmcm9tICZxdW90O0Bjb3NtaWNkYXBwL2Rlc2lnbiZxdW90OzsKaW1wb3J0IHsgVHlwb2dyYXBoeSB9IGZyb20gJnF1b3Q7YW50ZCZxdW90OzsKaW1wb3J0IHN0eWxlZCBmcm9tICZxdW90O3N0eWxlZC1jb21wb25lbnRzJnF1b3Q7OwoKY29uc3QgeyBUZXh0IH0gPSBUeXBvZ3JhcGh5OwoKZXhwb3J0IGNvbnN0IE1haW5TdGFjayA9IHN0eWxlZChTdGFjaylgCiAgJmFtcDsgJmd0OyAqIHsKICAgIC0tZ2FwOiB2YXIoLS1zNCk7CiAgfQoKICBoMSB7CiAgICBtYXJnaW46IDA7CiAgfQoKICAuYW50LWZvcm0gewogICAgbWFyZ2luLXRvcDogdmFyKC0tZ2FwKTsKICB9CmA7CgpleHBvcnQgY29uc3QgRXJyb3JUZXh0ID0gc3R5bGVkKFRleHQpYAogIGNvbG9yOiB2YXIoLS1jb2xvci1yZWQpOwpgOwo="}}),g._v(" "),C("p",[g._v("As you can see, this two files make use of "),C("code",[g._v("@cosmicdapp/logic")]),g._v("'s "),C("code",[g._v("useError")]),g._v(" hook, and of "),C("code",[g._v("@cosmicdapp/design")]),g._v("'s "),C("code",[g._v("Stack")]),g._v(", "),C("code",[g._v("PageLayout")]),g._v(", and "),C("code",[g._v("YourAccount")]),g._v(" components, so they should be familiar to you.")]),g._v(" "),C("p",[g._v("The "),C("code",[g._v("index.tsx")]),g._v(" component's layout makes use of "),C("code",[g._v("MainStack")]),g._v(" and "),C("code",[g._v("ErrorText")]),g._v(", which are Styled Components defined in "),C("code",[g._v("style.ts")]),g._v(", and also of "),C("code",[g._v("FormCheckBalance")]),g._v(" and "),C("code",[g._v("TokenList")]),g._v(" components, which are yet to be defined.")]),g._v(" "),C("p",[g._v("The logic will work like this: the "),C("code",[g._v("TokenList")]),g._v(" component will display the native tokens of the user, unless a contract address is entered in "),C("code",[g._v("FormCheckBalance")]),g._v(", which will make "),C("code",[g._v("TokenList")]),g._v(" show the balance for that CW20 contract, or show an error if that address does not have an associated contract.")]),g._v(" "),C("h3",{attrs:{id:"add-to-protectedswitch"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#add-to-protectedswitch"}},[g._v("#")]),g._v(" Add to ProtectedSwitch")]),g._v(" "),C("p",[g._v("Your "),C("code",[g._v("ProtectedSwitch")]),g._v(" in "),C("code",[g._v("App/index.tsx")]),g._v(" should look like this:")]),g._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"jsx",base64:"Jmx0O1Byb3RlY3RlZFN3aXRjaCBhdXRoUGF0aD17cGF0aExvZ2lufSZndDsKICAmbHQ7Um91dGUgZXhhY3QgcGF0aD17cGF0aEJhbGFuY2V9IGNvbXBvbmVudD17QmFsYW5jZX0gLyZndDsKJmx0Oy9Qcm90ZWN0ZWRTd2l0Y2gmZ3Q7Cg=="}}),g._v(" "),C("p",[g._v("Note that we remove "),C("code",[g._v("OperationResult")]),g._v(", both the route and the component, since we won't be making transactions in this dApp.")]),g._v(" "),C("h2",{attrs:{id:"add-formcheckbalance-component"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#add-formcheckbalance-component"}},[g._v("#")]),g._v(" Add FormCheckBalance component")]),g._v(" "),C("h3",{attrs:{id:"add-search-component"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#add-search-component"}},[g._v("#")]),g._v(" Add Search component")]),g._v(" "),C("p",[g._v("For entering the address we'll use a custom "),C("code",[g._v("Search")]),g._v(" component, it may seem hacky but does a good job integrating "),C("code",[g._v("formik")]),g._v(" and "),C("code",[g._v("antd")]),g._v(", and is in fact inspired by "),C("code",[g._v("formik-antd")]),g._v(" (but it's missing there as of now).")]),g._v(" "),C("p",[C("code",[g._v("App/forms/Search.tsx")])]),g._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"jsx",base64:"Ly8gU2VhcmNoIGZvcm0gbm90IHByZXNlbnQgaW4gZm9ybS1hbnRkOiBodHRwczovL2dpdGh1Yi5jb20vamFubmlrYnVzY2hrZS9mb3JtaWstYW50ZC9ibG9iL21hc3Rlci9zcmMvaW5wdXQvaW5kZXgudHN4CmltcG9ydCB7IElucHV0IGFzIEJhc2VJbnB1dCB9IGZyb20gJnF1b3Q7YW50ZCZxdW90OzsKaW1wb3J0IHsgSW5wdXRQcm9wcyBhcyBCYXNlSW5wdXRQcm9wcywgU2VhcmNoUHJvcHMgYXMgQmFzZVNlYXJjaFByb3BzIH0gZnJvbSAmcXVvdDthbnRkL2xpYi9pbnB1dCZxdW90OzsKaW1wb3J0IHsgRmllbGRQcm9wcyB9IGZyb20gJnF1b3Q7Zm9ybWlrJnF1b3Q7OwppbXBvcnQgeyBGaWVsZCB9IGZyb20gJnF1b3Q7Zm9ybWlrLWFudGQmcXVvdDs7CmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJnF1b3Q7cmVhY3QmcXVvdDs7CmltcG9ydCBTZWFyY2ggZnJvbSAmcXVvdDthbnRkL2xpYi9pbnB1dC9TZWFyY2gmcXVvdDs7CgppbnRlcmZhY2UgRm9ybWlrRmllbGRQcm9wcyB7CiAgbmFtZTogc3RyaW5nOwogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55CiAgdmFsaWRhdGU/OiAodmFsdWU6IGFueSkgPSZndDsgdW5kZWZpbmVkIHwgc3RyaW5nIHwgUHJvbWlzZSZsdDthbnkmZ3Q7OwogIGZhc3Q/OiBib29sZWFuOwp9Cgp0eXBlIElucHV0UHJvcHMgPSBGb3JtaWtGaWVsZFByb3BzICZhbXA7IEJhc2VJbnB1dFByb3BzOwoKaW50ZXJmYWNlIElucHV0VHlwZQogIGV4dGVuZHMgUmVhY3QuRm9yd2FyZFJlZkV4b3RpY0NvbXBvbmVudCZsdDsKICAgIEZvcm1pa0ZpZWxkUHJvcHMgJmFtcDsgQmFzZUlucHV0UHJvcHMgJmFtcDsgUmVhY3QuUmVmQXR0cmlidXRlcyZsdDtCYXNlSW5wdXQmZ3Q7CiAgJmd0OyB7CiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudAogIC8vIEB0cy1leHBlY3QtZXJyb3IKICBTZWFyY2g6IFJlYWN0LkZvcndhcmRSZWZFeG90aWNDb21wb25lbnQmbHQ7Rm9ybWlrRmllbGRQcm9wcyAmYW1wOyBCYXNlU2VhcmNoUHJvcHMgJmFtcDsgUmVhY3QuUmVmQXR0cmlidXRlcyZsdDtTZWFyY2gmZ3Q7Jmd0OzsKfQoKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2Rpc3BsYXktbmFtZQpjb25zdCBJbnB1dCA9IFJlYWN0LmZvcndhcmRSZWYoKAogIHsgbmFtZSwgdmFsaWRhdGUsIGZhc3QsIG9uQ2hhbmdlOiAkb25DaGFuZ2UsIG9uQmx1cjogJG9uQmx1ciwgLi4ucmVzdFByb3BzIH06IElucHV0UHJvcHMsCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudAogIC8vIEB0cy1leHBlY3QtZXJyb3IKICByZWY6IFJlYWN0LlJlZiZsdDtTZWFyY2gmZ3Q7LAopID0mZ3Q7ICgKICAmbHQ7RmllbGQgbmFtZT17bmFtZX0gdmFsaWRhdGU9e3ZhbGlkYXRlfSBmYXN0PXtmYXN0fSZndDsKICAgIHsoeyBmaWVsZDogeyB2YWx1ZSwgb25DaGFuZ2UsIG9uQmx1ciB9IH06IEZpZWxkUHJvcHMpID0mZ3Q7ICgKICAgICAgJmx0O0Jhc2VJbnB1dAogICAgICAgIHJlZj17cmVmfQogICAgICAgIG5hbWU9e25hbWV9CiAgICAgICAgdmFsdWU9e3ZhbHVlfQogICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0mZ3Q7IHsKICAgICAgICAgIG9uQ2hhbmdlKGV2ZW50KTsKICAgICAgICAgICRvbkNoYW5nZSAmYW1wOyZhbXA7ICRvbkNoYW5nZShldmVudCk7CiAgICAgICAgfX0KICAgICAgICBvbkJsdXI9eyhldmVudCkgPSZndDsgewogICAgICAgICAgb25CbHVyKGV2ZW50KTsKICAgICAgICAgICRvbkJsdXIgJmFtcDsmYW1wOyAkb25CbHVyKGV2ZW50KTsKICAgICAgICB9fQogICAgICAgIHsuLi5yZXN0UHJvcHN9CiAgICAgIC8mZ3Q7CiAgICApfQogICZsdDsvRmllbGQmZ3Q7CikpOwoKY29uc3QgVHlwZWRJbnB1dCA9IChJbnB1dCBhcyB1bmtub3duKSBhcyBJbnB1dFR5cGU7CnR5cGUgU2VhcmNoUHJvcHMgPSBGb3JtaWtGaWVsZFByb3BzICZhbXA7IEJhc2VTZWFyY2hQcm9wczsKCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9kaXNwbGF5LW5hbWUKVHlwZWRJbnB1dC5TZWFyY2ggPSBSZWFjdC5mb3J3YXJkUmVmKAogICgKICAgIHsgbmFtZSwgdmFsaWRhdGUsIGZhc3QsIG9uQ2hhbmdlOiAkb25DaGFuZ2UsIG9uQmx1cjogJG9uQmx1ciwgLi4ucmVzdFByb3BzIH06IFNlYXJjaFByb3BzLAogICAgcmVmOiBSZWFjdC5SZWYmbHQ7QmFzZUlucHV0Jmd0OywKICApID0mZ3Q7ICgKICAgICZsdDtGaWVsZCBuYW1lPXtuYW1lfSB2YWxpZGF0ZT17dmFsaWRhdGV9IGZhc3Q9e2Zhc3R9Jmd0OwogICAgICB7KHsgZmllbGQ6IHsgdmFsdWUsIG9uQ2hhbmdlLCBvbkJsdXIgfSB9OiBGaWVsZFByb3BzKSA9Jmd0OyAoCiAgICAgICAgJmx0O0Jhc2VJbnB1dC5TZWFyY2gKICAgICAgICAgIHJlZj17cmVmfQogICAgICAgICAgbmFtZT17bmFtZX0KICAgICAgICAgIHZhbHVlPXt2YWx1ZX0KICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0mZ3Q7IHsKICAgICAgICAgICAgb25DaGFuZ2UoZXZlbnQpOwogICAgICAgICAgICAkb25DaGFuZ2UgJmFtcDsmYW1wOyAkb25DaGFuZ2UoZXZlbnQpOwogICAgICAgICAgfX0KICAgICAgICAgIG9uQmx1cj17KGV2ZW50KSA9Jmd0OyB7CiAgICAgICAgICAgIG9uQmx1cihldmVudCk7CiAgICAgICAgICAgICRvbkJsdXIgJmFtcDsmYW1wOyAkb25CbHVyKGV2ZW50KTsKICAgICAgICAgIH19CiAgICAgICAgICB7Li4ucmVzdFByb3BzfQogICAgICAgIC8mZ3Q7CiAgICAgICl9CiAgICAmbHQ7L0ZpZWxkJmd0OwogICksCik7CgpleHBvcnQgZGVmYXVsdCBUeXBlZElucHV0LlNlYXJjaDsK"}}),g._v(" "),C("h3",{attrs:{id:"add-contract-address-validation-schema"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#add-contract-address-validation-schema"}},[g._v("#")]),g._v(" Add contract address validation schema")]),g._v(" "),C("p",[g._v("The "),C("code",[g._v("formik")]),g._v(" package we'll be using for building "),C("code",[g._v("FormCheckBalance")]),g._v(" has great integration with "),C("code",[g._v("yup")]),g._v(", which allows us to use it to build validation schemas like the one we need for the contract address:")]),g._v(" "),C("p",[C("code",[g._v("App/forms/validationSchemas.ts")])]),g._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"typescript",base64:"aW1wb3J0ICogYXMgWXVwIGZyb20gJnF1b3Q7eXVwJnF1b3Q7OwppbXBvcnQgeyBjb25maWcgfSBmcm9tICZxdW90Oy4uLy4uL2NvbmZpZyZxdW90OzsKCmNvbnN0IHJlZ2V4U3RhcnRzV2l0aFByZWZpeCA9IG5ldyBSZWdFeHAoYF4ke2NvbmZpZy5hZGRyZXNzUHJlZml4fWApOwoKY29uc3QgYWRkcmVzc1NoYXBlID0gewogIGFkZHJlc3M6IFl1cC5zdHJpbmcoKQogICAgLm1hdGNoZXMocmVnZXhTdGFydHNXaXRoUHJlZml4LCBgJnF1b3Q7JHtjb25maWcuYWRkcmVzc1ByZWZpeH0mcXVvdDsgcHJlZml4IHJlcXVpcmVkYCkKICAgIC5sZW5ndGgoMzkgKyBjb25maWcuYWRkcmVzc1ByZWZpeC5sZW5ndGgsICZxdW90O0FkZHJlc3MgaW52YWxpZCZxdW90OyksCn07CgpleHBvcnQgY29uc3Qgc2VhcmNoVmFsaWRhdGlvblNjaGVtYSA9IFl1cC5vYmplY3QoKS5zaGFwZShhZGRyZXNzU2hhcGUpOwo="}}),g._v(" "),C("h3",{attrs:{id:"formcheckbalance-implementation"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#formcheckbalance-implementation"}},[g._v("#")]),g._v(" FormCheckBalance implementation")]),g._v(" "),C("p",[g._v("The "),C("code",[g._v("routes/Balance/components/FormCheckBalance.tsx")]),g._v(" file would be this:")]),g._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"jsx",base64:"aW1wb3J0IHsgRm9ybWlrIH0gZnJvbSAmcXVvdDtmb3JtaWsmcXVvdDs7CmltcG9ydCB7IEZvcm0sIEZvcm1JdGVtIH0gZnJvbSAmcXVvdDtmb3JtaWstYW50ZCZxdW90OzsKaW1wb3J0IFJlYWN0IGZyb20gJnF1b3Q7cmVhY3QmcXVvdDs7CmltcG9ydCBTZWFyY2ggZnJvbSAmcXVvdDsuLi8uLi8uLi9mb3Jtcy9TZWFyY2gmcXVvdDs7CmltcG9ydCB7IHNlYXJjaFZhbGlkYXRpb25TY2hlbWEgfSBmcm9tICZxdW90Oy4uLy4uLy4uL2Zvcm1zL3ZhbGlkYXRpb25TY2hlbWFzJnF1b3Q7OwoKaW50ZXJmYWNlIEZvcm1DaGVja0JhbGFuY2VQcm9wcyB7CiAgcmVhZG9ubHkgc2V0Q29udHJhY3RBZGRyZXNzOiAodmFsdWU6IFJlYWN0LlNldFN0YXRlQWN0aW9uJmx0O3N0cmluZyZndDspID0mZ3Q7IHZvaWQ7Cn0KCmV4cG9ydCBmdW5jdGlvbiBGb3JtQ2hlY2tCYWxhbmNlKHsgc2V0Q29udHJhY3RBZGRyZXNzIH06IEZvcm1DaGVja0JhbGFuY2VQcm9wcyk6IEpTWC5FbGVtZW50IHsKICByZXR1cm4gKAogICAgJmx0O0Zvcm1pawogICAgICBpbml0aWFsVmFsdWVzPXt7IGFkZHJlc3M6ICZxdW90OyZxdW90OyB9fQogICAgICB2YWxpZGF0aW9uU2NoZW1hPXtzZWFyY2hWYWxpZGF0aW9uU2NoZW1hfQogICAgICBvblN1Ym1pdD17KHZhbHVlcykgPSZndDsgewogICAgICAgIHNldENvbnRyYWN0QWRkcmVzcyh2YWx1ZXMuYWRkcmVzcyk7CiAgICAgIH19CiAgICAmZ3Q7CiAgICAgIHsoZm9ybWlrUHJvcHMpID0mZ3Q7ICgKICAgICAgICAmbHQ7Rm9ybSZndDsKICAgICAgICAgICZsdDtGb3JtSXRlbSBuYW1lPSZxdW90O2FkZHJlc3MmcXVvdDsmZ3Q7CiAgICAgICAgICAgICZsdDtTZWFyY2gKICAgICAgICAgICAgICBuYW1lPSZxdW90O2FkZHJlc3MmcXVvdDsKICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0mcXVvdDtFbnRlciBjb250cmFjdCBhZGRyZXNzJnF1b3Q7CiAgICAgICAgICAgICAgZW50ZXJCdXR0b24KICAgICAgICAgICAgICBvblNlYXJjaD17Zm9ybWlrUHJvcHMuc3VibWl0Rm9ybX0KICAgICAgICAgICAgLyZndDsKICAgICAgICAgICZsdDsvRm9ybUl0ZW0mZ3Q7CiAgICAgICAgJmx0Oy9Gb3JtJmd0OwogICAgICApfQogICAgJmx0Oy9Gb3JtaWsmZ3Q7CiAgKTsKfQo="}}),g._v(" "),C("p",[g._v("It uses the address validation schema defined before, and has a "),C("code",[g._v("setContractAddress")]),g._v(" param to update the state of the "),C("code",[g._v("Balance")]),g._v(" route.")]),g._v(" "),C("h2",{attrs:{id:"add-tokenlist-component"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#add-tokenlist-component"}},[g._v("#")]),g._v(" Add TokenList component")]),g._v(" "),C("p",[g._v("With "),C("code",[g._v("FormCheckBalance")]),g._v(" working, we just need to implement "),C("code",[g._v("TokenList")]),g._v(".")]),g._v(" "),C("p",[g._v("This component will:")]),g._v(" "),C("ol",[C("li",[g._v("Check if there is a contract address:")])]),g._v(" "),C("ul",[C("li",[g._v("If not, get the native balance from the "),C("code",[g._v("useAccount")]),g._v(" hook.")]),g._v(" "),C("li",[g._v("If yes, load the balance and the number of decimals for the CW20 contract token.")]),g._v(" "),C("li",[g._v("If address has no contract, show error.")])]),g._v(" "),C("ol",{attrs:{start:"2"}},[C("li",[g._v("Display the balance:")])]),g._v(" "),C("ul",[C("li",[g._v("Use the local "),C("code",[g._v("getCoinToDisplay()")]),g._v(" utility to get a user friendly format for balance, be it native or CW20.")]),g._v(" "),C("li",[g._v("Use the "),C("code",[g._v("showTokens")]),g._v(" flag for conditional rendering to avoid display issues when waiting for async data to load.")])]),g._v(" "),C("p",[g._v("The "),C("code",[g._v("TokenList")]),g._v(" implementation for achieving this would be:")]),g._v(" "),C("p",[C("code",[g._v("routes/Balance/components/TokenList/index.tsx")])]),g._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"jsx",base64:"aW1wb3J0IHsgQ1cyMCwgbmF0aXZlQ29pblRvRGlzcGxheSwgdXNlQWNjb3VudCwgdXNlRXJyb3IsIHVzZVNkayB9IGZyb20gJnF1b3Q7QGNvc21pY2RhcHAvbG9naWMmcXVvdDs7CmltcG9ydCB7IENvaW4sIGNvaW5zIH0gZnJvbSAmcXVvdDtAY29zbWpzL2xhdW5jaHBhZCZxdW90OzsKaW1wb3J0IHsgRGVjaW1hbCB9IGZyb20gJnF1b3Q7QGNvc21qcy9tYXRoJnF1b3Q7OwppbXBvcnQgeyBEaXZpZGVyLCBUeXBvZ3JhcGh5IH0gZnJvbSAmcXVvdDthbnRkJnF1b3Q7OwppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJnF1b3Q7cmVhY3QmcXVvdDs7CmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJnF1b3Q7Li4vLi4vLi4vLi4vLi4vY29uZmlnJnF1b3Q7OwppbXBvcnQgeyBUb2tlbkl0ZW0sIFRva2VuU3RhY2sgfSBmcm9tICZxdW90Oy4vc3R5bGUmcXVvdDs7Cgpjb25zdCB7IFRleHQgfSA9IFR5cG9ncmFwaHk7CgppbnRlcmZhY2UgVG9rZW5MaXN0UHJvcHMgewogIHJlYWRvbmx5IGNvbnRyYWN0QWRkcmVzczogc3RyaW5nOwp9CgpleHBvcnQgZnVuY3Rpb24gVG9rZW5MaXN0KHsgY29udHJhY3RBZGRyZXNzIH06IFRva2VuTGlzdFByb3BzKTogSlNYLkVsZW1lbnQgewogIGNvbnN0IHsgc2V0RXJyb3IsIGNsZWFyRXJyb3IgfSA9IHVzZUVycm9yKCk7CiAgY29uc3QgeyBnZXRDbGllbnQgfSA9IHVzZVNkaygpOwogIGNvbnN0IHsgYWNjb3VudCB9ID0gdXNlQWNjb3VudCgpOwoKICBjb25zdCBbYmFsYW5jZSwgc2V0QmFsYW5jZV0gPSB1c2VTdGF0ZSZsdDtyZWFkb25seSBDb2luW10mZ3Q7KFtdKTsKICBjb25zdCBbZGVjaW1hbHMsIHNldERlY2ltYWxzXSA9IHVzZVN0YXRlJmx0O251bWJlciZndDsoKTsKCiAgdXNlRWZmZWN0KCgpID0mZ3Q7IHsKICAgIGlmICghY29udHJhY3RBZGRyZXNzKSB7CiAgICAgIHNldEJhbGFuY2UoYWNjb3VudC5iYWxhbmNlKTsKICAgICAgc2V0RGVjaW1hbHModW5kZWZpbmVkKTsKICAgICAgY2xlYXJFcnJvcigpOwogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50KCk7CgogICAgKGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUJhbGFuY2UoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgY29udHJhY3QgPSBhd2FpdCBjbGllbnQuZ2V0Q29udHJhY3QoY29udHJhY3RBZGRyZXNzKTsKICAgICAgICBjb25zdCBjdzIwQ29udHJhY3QgPSBDVzIwKGNsaWVudCkudXNlKGNvbnRyYWN0LmFkZHJlc3MpOwogICAgICAgIGNvbnN0IFt7IHN5bWJvbDogZGVub20sIGRlY2ltYWxzIH0sIGJhbGFuY2VdID0gYXdhaXQgUHJvbWlzZS5hbGwoWwogICAgICAgICAgY3cyMENvbnRyYWN0LnRva2VuSW5mbygpLAogICAgICAgICAgY3cyMENvbnRyYWN0LmJhbGFuY2UoKSwKICAgICAgICBdKTsKICAgICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUludChiYWxhbmNlLCAxMCk7CgogICAgICAgIHNldEJhbGFuY2UoY29pbnMoYW1vdW50LCBkZW5vbSkpOwogICAgICAgIHNldERlY2ltYWxzKGRlY2ltYWxzKTsKICAgICAgICBjbGVhckVycm9yKCk7CiAgICAgIH0gY2F0Y2ggewogICAgICAgIHNldEVycm9yKCZxdW90O05vIGNvbnRyYWN0IGZvdW5kIGluIHRoYXQgYWRkcmVzcyZxdW90Oyk7CiAgICAgICAgc2V0QmFsYW5jZShbXSk7CiAgICAgICAgc2V0RGVjaW1hbHModW5kZWZpbmVkKTsKICAgICAgfQogICAgfSkoKTsKICB9LCBbYWNjb3VudC5iYWxhbmNlLCBnZXRDbGllbnQsIGNvbnRyYWN0QWRkcmVzcywgY2xlYXJFcnJvciwgc2V0RXJyb3JdKTsKCiAgZnVuY3Rpb24gZ2V0Q29pblRvRGlzcGxheShjb2luOiBDb2luKTogQ29pbiB7CiAgICBpZiAoY29udHJhY3RBZGRyZXNzICZhbXA7JmFtcDsgZGVjaW1hbHMpIHsKICAgICAgY29uc3QgYW1vdW50RnJvbURlY2ltYWwgPSBEZWNpbWFsLmZyb21BdG9taWNzKGNvaW4uYW1vdW50LCBkZWNpbWFscykudG9TdHJpbmcoKTsKICAgICAgcmV0dXJuIHsgZGVub206IGNvaW4uZGVub20sIGFtb3VudDogYW1vdW50RnJvbURlY2ltYWwgfTsKICAgIH0KCiAgICByZXR1cm4gbmF0aXZlQ29pblRvRGlzcGxheShjb2luLCBjb25maWcuY29pbk1hcCk7CiAgfQoKICBjb25zdCBpc0N3MjBUb2tlbiA9IGNvbnRyYWN0QWRkcmVzcyAmYW1wOyZhbXA7IGRlY2ltYWxzICE9PSB1bmRlZmluZWQ7CiAgY29uc3QgaXNOYXRpdmVUb2tlbiA9ICFjb250cmFjdEFkZHJlc3MgJmFtcDsmYW1wOyBkZWNpbWFscyA9PT0gdW5kZWZpbmVkOwogIGNvbnN0IHNob3dUb2tlbnMgPSBpc0N3MjBUb2tlbiB8fCBpc05hdGl2ZVRva2VuOwoKICByZXR1cm4gKAogICAgc2hvd1Rva2VucyAmYW1wOyZhbXA7ICgKICAgICAgJmx0O1Rva2VuU3RhY2smZ3Q7CiAgICAgICAge2JhbGFuY2UubWFwKCh0b2tlbiwgaW5kZXgpID0mZ3Q7IHsKICAgICAgICAgIGNvbnN0IHsgZGVub20sIGFtb3VudCB9ID0gZ2V0Q29pblRvRGlzcGxheSh0b2tlbik7CgogICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgJmx0O1JlYWN0LkZyYWdtZW50IGtleT17dG9rZW4uZGVub219Jmd0OwogICAgICAgICAgICAgIHtpbmRleCAmZ3Q7IDAgJmFtcDsmYW1wOyAmbHQ7RGl2aWRlciAvJmd0O30KICAgICAgICAgICAgICAmbHQ7VG9rZW5JdGVtJmd0OwogICAgICAgICAgICAgICAgJmx0O1RleHQmZ3Q7e2Rlbm9tfSZsdDsvVGV4dCZndDsKICAgICAgICAgICAgICAgICZsdDtUZXh0Jmd0O3thbW91bnQgIT09ICZxdW90OzAmcXVvdDsgPyBhbW91bnQgOiAmcXVvdDtObyB0b2tlbnMmcXVvdDt9Jmx0Oy9UZXh0Jmd0OwogICAgICAgICAgICAgICZsdDsvVG9rZW5JdGVtJmd0OwogICAgICAgICAgICAmbHQ7L1JlYWN0LkZyYWdtZW50Jmd0OwogICAgICAgICAgKTsKICAgICAgICB9KX0KICAgICAgJmx0Oy9Ub2tlblN0YWNrJmd0OwogICAgKQogICk7Cn0K"}}),g._v(" "),C("p",[C("code",[g._v("routes/Balance/components/TokenList/style.ts")])]),g._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"jsx",base64:"aW1wb3J0IHsgU3RhY2sgfSBmcm9tICZxdW90O0Bjb3NtaWNkYXBwL2Rlc2lnbiZxdW90OzsKaW1wb3J0IHN0eWxlZCBmcm9tICZxdW90O3N0eWxlZC1jb21wb25lbnRzJnF1b3Q7OwoKZXhwb3J0IGNvbnN0IFRva2VuU3RhY2sgPSBzdHlsZWQoU3RhY2spYAogICZhbXA7ICZndDsgKiB7CiAgICAtLWdhcDogMDsKICB9CmA7CgpleHBvcnQgY29uc3QgVG9rZW5JdGVtID0gc3R5bGVkLmRpdmAKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBhbGlnbi1pdGVtczogYmFzZWxpbmU7CgogIHNwYW4gewogICAgZm9udC1mYW1pbHk6IHZhcigtLWZmLWljZWxhbmQpOwogICAgZm9udC1zaXplOiB2YXIoLS1zMik7CiAgfQoKICBzcGFuICsgc3BhbiB7CiAgICBmb250LXdlaWdodDogYm9sZGVyOwogICAgZm9udC1mYW1pbHk6IHZhcigtLWZmLW1vbnRzZXJyYXQpOwogICAgZm9udC1zaXplOiB2YXIoLS1zMSk7CiAgfQpgOwo="}}),g._v(" "),C("h2",{attrs:{id:"finished"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#finished"}},[g._v("#")]),g._v(" Finished!")]),g._v(" "),C("p",[g._v("Now you can check your native balances and your balance for any CW20 contract, and most importantly, you now know how to build a CosmJS based dApp!")])],1)}),[],!1,null,null,null);c.default=d.exports}}]);