(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{654:function(e,t,o){"use strict";o.r(t);var a=o(0),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"verifying-with-cryptographic-code-reviews"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#verifying-with-cryptographic-code-reviews"}},[e._v("#")]),e._v(" Verifying with Cryptographic Code Reviews")]),e._v(" "),o("p",[e._v("An essential component to creating secure, trustable smart contracts are audits\nand code reviews. We don't believe that audits should be the sole domain of a\nniche group of companies, but that many developers are also capable of reviewing each\nothers code and help spot bugs and security holes. With CosmWasm, we aim to nurture\na culture of collective code reviews to aid in our goal of open, highly secure contracts.")]),e._v(" "),o("h2",{attrs:{id:"crev"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#crev"}},[e._v("#")]),e._v(" CRev")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://news.ycombinator.com/item?id=18824923",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("crev")]),o("OutboundLink")],1),e._v(" is an idea of decentralized,\ncryptographically verifiable code reviews, centered around a web of trust.\nMore specifically "),o("a",{attrs:{href:"https://github.com/crev-dev/cargo-crev/tree/master/cargo-crev",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("cargo-crev")]),o("OutboundLink")],1),e._v("\nis a set of tooling to enable the "),o("code",[e._v("crev")]),e._v(" design with existing rust tooling,\nnotably the ubiquitous "),o("code",[e._v("cargo")]),e._v(" command. We support using "),o("code",[e._v("cargo-crev")]),e._v(" to review all\nsmart contracts and common dependencies, and will be providing a seed node of trust that\nyou can sync with, and maintain a directory of some well-known CosmWasm developers. You\ncan always find others by traversing the web of trust.")]),e._v(" "),o("p",[e._v("The idea is anyone can sign and publish a review of any crate. Each developer can also\nassign trust ("),o("code",[e._v("low")]),e._v(", "),o("code",[e._v("medium")]),e._v(", "),o("code",[e._v("high")]),e._v(" or "),o("code",[e._v("distrust")]),e._v(") to other developers, based on how\nmuch they trust the other's reviews (both honesty and quality). From this, we can pull\nin many reviews on various crates and "),o("code",[e._v("cargo crev crate verify")]),e._v(" will show the current\nstatus of the current crate and all dependencies. Ideally all dependencies of "),o("code",[e._v("cosmwasm")]),e._v("\nand the major contracts / libraries built on it, like "),o("a",{attrs:{href:"https://crates.io/crates/cw-erc20",target:"_blank",rel:"noopener noreferrer"}},[e._v("cw-erc20"),o("OutboundLink")],1),e._v("\nand "),o("a",{attrs:{href:"https://crates.io/crates/cw-storage",target:"_blank",rel:"noopener noreferrer"}},[e._v("cw-storage"),o("OutboundLink")],1),e._v(" will have multiple, public reviews,\nso we can build a solid base for security.")]),e._v(" "),o("h2",{attrs:{id:"getting-started"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#getting-started"}},[e._v("#")]),e._v(" Getting Started")]),e._v(" "),o("p",[e._v("I highly recommend going through the "),o("a",{attrs:{href:"https://github.com/crev-dev/cargo-crev/blob/master/cargo-crev/src/doc/getting_started.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Getting Started"),o("OutboundLink")],1),e._v("\npage on "),o("code",[e._v("cargo-crev")]),e._v(" to understand all the elements, but we will lead you through a simple usage of it here,\ntailored to CosmWasm developers. Please note that this will assign trust to the core\nCosmWasm developer, "),o("a",{attrs:{href:"https://github.com/ethanfrey",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ethan Frey"),o("OutboundLink")],1),e._v(", but you can skip that part and\nuse another seed if you already know other developers using "),o("code",[e._v("crev")]),e._v(".\nI hope the trust graph will soon be less centralized, but it is best to start with a seed\nto produce a highly connected clique. Also, please verify the trust ID in at least 2 places before\nadding it.")]),e._v(" "),o("h3",{attrs:{id:"installation"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),o("p",[e._v("You will first need to have "),o("code",[e._v("openssl")]),e._v(" installed on your system for TLS (HTTPS) support.")]),e._v(" "),o("p",[e._v("Ubuntu: "),o("code",[e._v("sudo apt-get install openssl libssl-dev")])]),e._v(" "),o("p",[e._v("MacOS: "),o("code",[e._v("brew install openssl")])]),e._v(" "),o("p",[e._v("Now, you can build the "),o("code",[e._v("cargo-crev")]),e._v(" command:")]),e._v(" "),o("code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"Y2FyZ28gaW5zdGFsbCBjYXJnby1jcmV2CmNhcmdvIGNyZXYgLS1oZWxwCg=="}}),e._v(" "),o("h3",{attrs:{id:"creating-a-crevid"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-crevid"}},[e._v("#")]),e._v(" Creating a "),o("code",[e._v("CRevID")])]),e._v(" "),o("p",[e._v("The first step to using "),o("code",[e._v("crev")]),e._v(" is to create and publish your identity. We will be using\ncryptographic keys stored on your local computer to sign the trust proofs, and publishing\nthe trust graph and code reviews over multiple git repositories (one for each user).\nI recommend just "),o("a",{attrs:{href:"https://github.com/crev-dev/cargo-crev/blob/master/cargo-crev/src/doc/getting_started.md#creating-a-crevid",target:"_blank",rel:"noopener noreferrer"}},[e._v("following the official instructions here"),o("OutboundLink")],1),e._v(",\nbut if you just want to cut and paste, this should get you up.")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://github.com/crev-dev/crev-proofs/fork",target:"_blank",rel:"noopener noreferrer"}},[e._v("Fork the crev-proofs repo"),o("OutboundLink")],1),e._v(" to your personal github account.")]),e._v(" "),o("p",[e._v("Or you can copy it to another git server via:")]),e._v(" "),o("code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"Z2l0IGNsb25lIGh0dHBzOi8vZ2l0aHViLmNvbS9jcmV2LWRldi9jcmV2LXByb29mcwpjZCBjcmV2LXByb29mcwpnaXQgcmVtb3RlIHNldC11cmwgb3JpZ2luIFlPVVJfRU1QVFlfR0lUX1JFUE9fSEVSRQpnaXQgcHVzaCAtdSBvcmlnaW4gbWFzdGVyCg=="}}),e._v(" "),o("p",[e._v("Now, you can create your personal id (local to your computer, and add it to the repo:")]),e._v(" "),o("code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"IyB5b3UgbmVlZCB0aGUgaHR0cHMgdmFyaWFudCwgbm90IHRoZSBnaXRAIChzc2gpIHZhcmlhbnQKY2FyZ28gY3JldiBpZCBuZXcgLS11cmwgaHR0cHM6Ly9naXRodWIuY29tL1lPVVJfTkFNRS9jcmV2LXByb29mcwo="}}),e._v(" "),o("h2",{attrs:{id:"bootstrapping-your-web-of-trust"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#bootstrapping-your-web-of-trust"}},[e._v("#")]),e._v(" Bootstrapping your Web of Trust")]),e._v(" "),o("p",[e._v("You will need at least one trusted developer to get started.\nLet's pick a few reputable ones and assign them a trust level of "),o("code",[e._v("medium")]),e._v(".\nYou can feel free to use different seeds if you wish, but these are the commands:")]),e._v(" "),o("p",[e._v("Trust "),o("a",{attrs:{href:"https://github.com/dpc",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("dpc")]),o("OutboundLink")],1),e._v(", one of the core "),o("code",[e._v("cargo-crev")]),e._v(" developers. This will pull in many\nreviews of standard rust crates:")]),e._v(" "),o("code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"Y2FyZ28gY3JldiByZXBvIGZldGNoIHVybCBodHRwczovL2dpdGh1Yi5jb20vZHBjL2NyZXYtcHJvb2ZzCmNhcmdvIGNyZXYgaWQgdHJ1c3QgRllscjhZb1lHVnZEd0hReHFFSXM4OXJlS0tEeS1vV2lzb08wcVhYRWZIRQo="}}),e._v(" "),o("p",[e._v("Trust "),o("a",{attrs:{href:"https://github.com/ethanfrey",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("ethanfrey")]),o("OutboundLink")],1),e._v(", the main CosmWasm developer. This will pull\nin reviews of many "),o("code",[e._v("cosmwasm")]),e._v(" related packages:")]),e._v(" "),o("code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"Y2FyZ28gY3JldiByZXBvIGZldGNoIHVybCBodHRwczovL2dpdGh1Yi5jb20vZXRoYW5mcmV5L2NyZXYtcHJvb2ZzCiMgdHdvIGlkcyBmb3IgZGlmZmVyZW50IGRldmljZXMKY2FyZ28gY3JldiBpZCB0cnVzdCBhWFBQOWtnTTJFTk5XdWcxbHRZM0FpSEJERlA2TldvRGNvYUhNN2JfaTA4CmNhcmdvIGNyZXYgaWQgdHJ1c3QgRmFfS0plNmZpNGVEb2FrOFNHa3lzdlJDTmpaUDRJQzAzTDA1aXdfdmVwSQo="}}),e._v(" "),o("p",[e._v("Once you have trusted one (or both) of the above seeds, you can pull in their trust graph.\nThis will show up as a number of "),o("code",[e._v("medium")]),e._v(" and "),o("code",[e._v("low")]),e._v(" level trust rankings. We can\nthen fetch all their reviews to get a large net of reviews. This cannot be used to provide\nhigh trust, but can definitely help spread the word on any malicious packages discovered:")]),e._v(" "),o("code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"Y2FyZ28gY3JldiBpZCBxdWVyeSB0cnVzdGVkCmNhcmdvIGNyZXYgcmVwbyBmZXRjaCB0cnVzdGVkCg=="}}),e._v(" "),o("p",[e._v("It takes a while, but now you should be rewarded with some shared knowledge.")]),e._v(" "),o("h2",{attrs:{id:"verifying-a-crate"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#verifying-a-crate"}},[e._v("#")]),e._v(" Verifying a Crate")]),e._v(" "),o("p",[e._v("Once we have seeded the trust graph, let's try it out. Go into a local rust project\nand try to verify it. If you don't have one in particular, I suggest to\n"),o("code",[e._v("git clone https://github.com/CosmWasm/cosmwasm")]),e._v(" in a new directory.\nNow that we are in the root of a rust project (in the same directory as "),o("code",[e._v("Cargo.toml")]),e._v("),\nlet's check out what reviews we find in the web of trust:")]),e._v(" "),o("code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"Y2FyZ28gY3JldiBjcmF0ZSBjbGVhbgpjYXJnbyBjcmV2IGNyYXRlIHZlcmlmeSAtLW5vLWRldi1kZXBlbmRlbmNpZXMK"}}),e._v(" "),o("p",[e._v("You will see a few green "),o("code",[e._v("pass")]),e._v(", quite a few "),o("code",[e._v("none")]),e._v(" (some with reviews, but from lower trusted devs),\nand maybe even a "),o("code",[e._v("warn")]),e._v(". When I first ran this, I found a "),o("code",[e._v("warn")]),e._v(" message by "),o("code",[e._v("redox_syscall")]),e._v("\nand "),o("code",[e._v("smallvec")]),e._v(". Let's investigate further. You can get some general info on the crates:")]),e._v(" "),o("code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"Y2FyZ28gY3JldiBjcmF0ZSBpbmZvIHNtYWxsdmVjCmNhcmdvIGNyZXYgY3JhdGUgaW5mbyBoZXgK"}}),e._v(" "),o("p",[e._v("But if you want to get the full reviews, you must use:")]),e._v(" "),o("code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"Y2FyZ28gY3JldiByZXBvIHF1ZXJ5IHJldmlldyBoZXgKY2FyZ28gY3JldiByZXBvIHF1ZXJ5IHJldmlldyBzbWFsbHZlYwoKIyB0byBmaW5kIG5lZ2F0aXZlIHJldmlld3MsIHlvdSBjYW4gYWxzbyBxdWVyeSByZWxhdGVkIGFkdmlzb3JpZXMgYW5kIGlzc3VlcwpjYXJnbyBjcmV2IHJlcG8gcXVlcnkgYWR2aXNvcnkgc21hbGx2ZWMKY2FyZ28gY3JldiByZXBvIHF1ZXJ5IGlzc3VlIHNtYWxsdmVjCg=="}}),e._v(" "),o("h3",{attrs:{id:"test-your-contract"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#test-your-contract"}},[e._v("#")]),e._v(" Test your contract")]),e._v(" "),o("p",[e._v("Go to the directory of a smart contract you created, or go to the "),o("code",[e._v("escrow")]),e._v("\ncontract in "),o("a",{attrs:{href:"https://github.com/CosmWasm/cosmwasm-examples",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("https://github.com/CosmWasm/cosmwasm-examples")]),o("OutboundLink")],1),e._v("\nif you don't have your own contract. These have fewer dependencies, and I would really\nlike to get all of the common dependencies reviewed in the mid-term. Due to the\nfeature flags in contracts derived from "),o("a",{attrs:{href:"https://github.com/CosmWasm/cosmwasm-template",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("cosmwasm-template")]),o("OutboundLink")],1),e._v(",\nyou will need the following (notice extra flag on verify):")]),e._v(" "),o("code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"Y2FyZ28gY3JldiBjcmF0ZSBjbGVhbgpjYXJnbyBjcmV2IGNyYXRlIHZlcmlmeSAtLW5vLWRldi1kZXBlbmRlbmNpZXMgLS1uby1kZWZhdWx0LWZlYXR1cmVzCg=="}}),e._v(" "),o("p",[e._v("My check shows a number of "),o("code",[e._v("pass")]),e._v(" and no "),o("code",[e._v("warn")]),e._v(", a good start. Also, a number\nof the "),o("code",[e._v("none")]),e._v(" crates, have a positive review on a slightly older version\nof the same crate, so those should be low hanging fruit to update.")]),e._v(" "),o("h2",{attrs:{id:"publishing-your-web-of-trust"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#publishing-your-web-of-trust"}},[e._v("#")]),e._v(" Publishing your Web of Trust")]),e._v(" "),o("p",[e._v("Now that you have learned some tools, feel free to add a few other developers\nto your web of trust, and then publish your key here, so we can start connecting.")]),e._v(" "),o("code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"Y2FyZ28gY3JldiByZXBvIHB1Ymxpc2gK"}}),e._v(" "),o("h3",{attrs:{id:"cosmwasm-developers"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cosmwasm-developers"}},[e._v("#")]),e._v(" CosmWasm Developers")]),e._v(" "),o("p",[e._v("Beyond the "),o("a",{attrs:{href:"#bootstrapping-your-web-of-trust"}},[e._v("seeds listed above")]),e._v(", we can list some\nknown developers working on CosmWasm. These may add relevant reviews, but only add\nthem if you know them (or their work) beyond this website.")]),e._v(" "),o("table",[o("thead",[o("tr",[o("th",[e._v("Username / CRev Repo")]),e._v(" "),o("th",[e._v("CRevID")])])]),e._v(" "),o("tbody",[o("tr",[o("td",[o("a",{attrs:{href:"https://github.com/clevinson/crev-proofs",target:"_blank",rel:"noopener noreferrer"}},[e._v("clevinson"),o("OutboundLink")],1)]),e._v(" "),o("td",[o("code",[e._v("GfZom6m1khImklK13bD_JPI8dr4Go86U9YHVLcg5Jmg")])])])])]),e._v(" "),o("p",[e._v("Please "),o("a",{attrs:{href:"https://github.com/CosmWasm/docs/pulls",target:"_blank",rel:"noopener noreferrer"}},[e._v("create a PR on "),o("code",[e._v("CosmWasm/docs")]),o("OutboundLink")],1),e._v(" if you want to be\non this list. Anyone that has contributed to CosmWasm or published a CosmWasm-based\ncontract is eligable to be on the list. It is not curated, so please make your own\ndecision if you know and trust these developers.")]),e._v(" "),o("h3",{attrs:{id:"rust-developers"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#rust-developers"}},[e._v("#")]),e._v(" Rust Developers")]),e._v(" "),o("p",[e._v("You can also check out the "),o("a",{attrs:{href:"https://github.com/crev-dev/cargo-crev/wiki/List-of-Proof-Repositories",target:"_blank",rel:"noopener noreferrer"}},[e._v("crev proof repository list"),o("OutboundLink")],1),e._v("\nto get a list of general Rust developers who have been submitting proofs for other\ncrates. If you have reviewed some general (non cosmwasm-specific) crates, you may\nalso want to add yourself to that list.")])],1)}),[],!1,null,null,null);t.default=r.exports}}]);